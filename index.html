<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merci</title>

    <!-- Ajouter un emoji directement comme favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'><text x='0' y='14' font-size='14' font-family='Arial' fill='black'>ðŸŒ¸</text></svg>">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ArriÃ¨re-plan animÃ© uniquement pour la section bienvenue -->
    <div class="background">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <!-- Ajoute tes autres spans pour l'animation -->
    </div>

    <!-- Section de bienvenue -->
    <section id="welcome">
        <div class="message-3d">Bienvenue LÃ¢lia</div>
        <div class="click-indicator" onclick="scrollToVideo()">Click</div> <!-- Texte "Click" clignotant -->
        <!-- Triangles Ã  gauche et Ã  droite du texte -->
        <div class="scroll-indicator" onclick="scrollToVideo()">â†“</div>
    </section>


    <!-- Section vidÃ©o avec fond noir -->
    <div class="video-section" id="video">
        <video controls width="100%" id="video-player">
            Votre navigateur ne supporte pas la vidÃ©o HTML5.
        </video>
    </div>

    <script>
        async function getVideoUrl(code) {
            const response = await fetch('https://remerciment-back-phi.vercel.app/api/verify', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ code }),
            });

            const data = await response.json();

            if (data.success) {
                const videoUrl = data.videoUrl;
                const videoPlayer = document.getElementById("video-player");
                videoPlayer.src = videoUrl; // Met Ã  jour la source de la vidÃ©o avec l'URL reÃ§ue
                alert("Code valide! La vidÃ©o est prÃªte Ã  Ãªtre lue.");
                console.log(videoPlayer.src)
            } else {
                alert("Code invalide.");
            }
        }

        // Appel de la fonction getVideoUrl avec le code de validation
        const code = prompt("Entrez votre code secret:");
        if (code) {
            getVideoUrl(code);
        }

        function scrollToVideo() {
            const videoSection = document.getElementById("video");
            videoSection.scrollIntoView({ behavior: "smooth" });
            const video = document.querySelector('video');
            video.play();
        }

        document.querySelector('.scroll-indicator').addEventListener('click', scrollToVideo);
        window.addEventListener("load", () => {
            setTimeout(() => {
                window.scrollTo(0, 0);
            }, 0);
        });
    </script>

    <script src="script.js"></script>
</body>
</html>

